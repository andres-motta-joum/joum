<h1 class="titulo">Resumen de compra</h1>

<ng-container *ngIf="productos">
    <div class="direccion">
        <ng-icon name="heroMapPin"></ng-icon>
        <div class="dir">
            <h2>{{direccionString}}</h2>
            <p>{{direccion.barrio}}, Bogotá D.C.</p>
            <p>{{direccion.nombresApellidos}}</p>
        </div>
        <div class="editarDireccion">
            <ng-icon name="matEdit"></ng-icon>
            <p (click)="cambiarUbicacion()">Cambiar</p>
        </div>
    </div>
    <div class="producto" *ngFor="let producto of productos; let index = index">
        <div class="contenidoImg">
            <img [src]="'assets/img/productos/'+ producto.fotos[0] + '.png'">
        </div>
        <div>
            <p>{{producto.nombre}} <span *ngIf="tamanios[index] !== 'false'">{{producto.tamanios![+tamanios[index]].gramos}}</span></p>
            <div *ngIf="producto.descuento">
                <p>$ {{ producto.precioComparacion | number:'1.0-0'}} <span>COP</span></p>
                <p>OFF</p>
            </div>
            <ng-container *ngIf="!producto.descuento">
                <ng-container *ngIf="tamanios[index] !== 'false'">
                    <p class="precio">$ {{producto.tamanios![+tamanios[index]].precio | number: '1.0-0'}}</p>
                </ng-container>
                <ng-container *ngIf="tamanios[index] == 'false'">
                    <p class="precio">$ {{ producto.precio | number:'1.0-0'}} <span>COP</span></p>
                </ng-container>
            </ng-container>
            <p *ngIf="producto.envioGratis" class="envioGratis">Envío gratis</p>
            <p *ngIf="!producto.envioGratis" class="envioPrecio"><span>Recíbelo</span> por <span>$ {{producto.precioEnvio | number: '1.0-0'}}</span></p>
        </div>
        <p></p>
        <div>
            <button (click)="cambiarUnidad('-', index)">-</button><p>{{unidades[index]}}</p><button (click)="cambiarUnidad('+', index)">+</button>
        </div>
    </div>
</ng-container>